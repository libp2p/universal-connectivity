2025-07-12 15:28:14,740 - main - DEBUG - Debug logging enabled
2025-07-12 15:28:14,741 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:28:14,741 - headless - INFO - HeadlessService initialized - nickname: test-peer, port: 47947
2025-07-12 15:28:14,741 - main - INFO - Starting headless service...
2025-07-12 15:28:14,741 - headless - INFO - Starting headless service...
2025-07-12 15:28:15,430 - headless - INFO - Host created with PeerID: QmdEj1ppAiCzEGD8nBJAFkURYLFWChjX9CbNipbhX2WYKQ
2025-07-12 15:28:15,430 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/47947
2025-07-12 15:28:15,430 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/47947/p2p/QmdEj1ppAiCzEGD8nBJAFkURYLFWChjX9CbNipbhX2WYKQ
2025-07-12 15:28:15,436 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:28:15,437 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:28:15,437 - headless - INFO - Pubsub ready.
2025-07-12 15:28:15,437 - headless - INFO - Setting up chat room...
2025-07-12 15:28:15,437 - chatroom - INFO - ChatRoom initialized for peer QmdEj1pp... with nickname 'test-peer'
2025-07-12 15:28:15,438 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:28:15,438 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:28:15,438 - headless - INFO - Chat room setup complete for 'test-peer'
2025-07-12 15:28:15,438 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:28:15,438 - headless - INFO - Starting message processing...
2025-07-12 15:29:58,098 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:29:58,098 - headless - INFO - HeadlessService initialized - nickname: peer-325637, port: 60079
2025-07-12 15:29:58,098 - main - INFO - Starting headless service in background...
2025-07-12 15:29:58,098 - headless - INFO - Starting headless service...
2025-07-12 15:29:58,702 - headless - INFO - Host created with PeerID: QmUf14eUi1tQ2QC3LVDCwY88Bsj2BxDhP6WrQJTB3v1rsV
2025-07-12 15:29:58,702 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/60079
2025-07-12 15:29:58,702 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/60079/p2p/QmUf14eUi1tQ2QC3LVDCwY88Bsj2BxDhP6WrQJTB3v1rsV
2025-07-12 15:29:58,704 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:29:58,704 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:29:58,705 - headless - INFO - Pubsub ready.
2025-07-12 15:29:58,705 - headless - INFO - Setting up chat room...
2025-07-12 15:29:58,705 - chatroom - INFO - ChatRoom initialized for peer QmUf14eU... with nickname 'peer-325637'
2025-07-12 15:29:58,705 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:29:58,705 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:29:58,705 - headless - INFO - Chat room setup complete for 'peer-325637'
2025-07-12 15:29:58,705 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:29:58,705 - headless - INFO - Starting message processing...
2025-07-12 15:29:58,705 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:31:13,311 - headless - INFO - Stopping headless service...
2025-07-12 15:31:13,311 - chatroom - INFO - ChatRoom stopped
2025-07-12 15:31:13,311 - headless - INFO - Headless service stopped
2025-07-12 15:31:13,311 - headless - INFO - Stop signal received, shutting down...
2025-07-12 15:31:48,481 - main - DEBUG - Debug logging enabled
2025-07-12 15:31:48,482 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:31:48,482 - headless - INFO - HeadlessService initialized - nickname: test-peer, port: 58759
2025-07-12 15:31:48,482 - main - INFO - Starting headless service...
2025-07-12 15:31:48,482 - headless - INFO - Starting headless service...
2025-07-12 15:31:48,617 - headless - INFO - Host created with PeerID: QmPMTSPT6vyoDPVXahZPMia6PV7HUbqcaMNmz5MHf4fzaz
2025-07-12 15:31:48,618 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/58759
2025-07-12 15:31:48,618 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/58759/p2p/QmPMTSPT6vyoDPVXahZPMia6PV7HUbqcaMNmz5MHf4fzaz
2025-07-12 15:31:48,619 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:31:48,620 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:31:48,620 - headless - INFO - Pubsub ready.
2025-07-12 15:31:48,620 - headless - INFO - Setting up chat room...
2025-07-12 15:31:48,620 - chatroom - INFO - ChatRoom initialized for peer QmPMTSPT... with nickname 'test-peer'
2025-07-12 15:31:48,620 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:31:48,620 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:31:48,621 - headless - INFO - Chat room setup complete for 'test-peer'
2025-07-12 15:31:48,621 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:31:48,621 - headless - INFO - Starting message processing...
2025-07-12 15:32:16,640 - main - DEBUG - Debug logging enabled
2025-07-12 15:32:16,641 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:32:16,641 - headless - INFO - HeadlessService initialized - nickname: test-peer, port: 54737
2025-07-12 15:32:16,641 - main - INFO - Starting headless service in background...
2025-07-12 15:32:16,641 - headless - INFO - Starting headless service...
2025-07-12 15:32:16,709 - headless - INFO - Host created with PeerID: Qmek2RMzKAqX17Bynhpp7ZdzpUBhFvFLPqGjDpCzhJeDmH
2025-07-12 15:32:16,709 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/54737
2025-07-12 15:32:16,709 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/54737/p2p/Qmek2RMzKAqX17Bynhpp7ZdzpUBhFvFLPqGjDpCzhJeDmH
2025-07-12 15:32:16,711 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:32:16,711 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:32:16,711 - headless - INFO - Pubsub ready.
2025-07-12 15:32:16,711 - headless - INFO - Setting up chat room...
2025-07-12 15:32:16,711 - chatroom - INFO - ChatRoom initialized for peer Qmek2RMz... with nickname 'test-peer'
2025-07-12 15:32:16,712 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:32:16,712 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:32:16,712 - headless - INFO - Chat room setup complete for 'test-peer'
2025-07-12 15:32:16,712 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:32:16,712 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:32:16,712 - headless - INFO - Starting message processing...
2025-07-12 15:33:13,592 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:33:13,592 - headless - INFO - HeadlessService initialized - nickname: peer-344176, port: 55725
2025-07-12 15:33:13,592 - main - INFO - Starting headless service in background...
2025-07-12 15:33:13,592 - headless - INFO - Starting headless service...
2025-07-12 15:33:13,763 - headless - INFO - Host created with PeerID: QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:33:13,764 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/55725
2025-07-12 15:33:13,764 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/55725/p2p/QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:33:13,766 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:33:13,767 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:33:13,767 - headless - INFO - Pubsub ready.
2025-07-12 15:33:13,767 - headless - INFO - Setting up chat room...
2025-07-12 15:33:13,768 - chatroom - INFO - ChatRoom initialized for peer QmT8n8uA... with nickname 'peer-344176'
2025-07-12 15:33:13,768 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:33:13,768 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:33:13,768 - headless - INFO - Chat room setup complete for 'peer-344176'
2025-07-12 15:33:13,768 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:33:13,768 - headless - INFO - Starting message processing...
2025-07-12 15:33:13,768 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:33:37,500 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:33:37,500 - headless - INFO - HeadlessService initialized - nickname: peer-253200, port: 39037
2025-07-12 15:33:37,500 - main - INFO - Starting headless service in background...
2025-07-12 15:33:37,501 - headless - INFO - Starting headless service...
2025-07-12 15:33:37,678 - headless - INFO - Host created with PeerID: QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:33:37,678 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/39037
2025-07-12 15:33:37,678 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/39037/p2p/QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:33:37,680 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:33:37,680 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:33:37,680 - headless - INFO - Pubsub ready.
2025-07-12 15:33:37,681 - headless - INFO - Attempting to connect to: /ip4/0.0.0.0/tcp/55725/p2p/QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:33:37,681 - headless - INFO - Connecting to peer: QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:33:37,731 - headless - INFO - ✅ Successfully connected to peer: QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:33:39,733 - headless - INFO - PubSub peers after connection: ['QmT8n8uA']
2025-07-12 15:33:39,733 - headless - INFO - Setting up chat room...
2025-07-12 15:33:39,734 - chatroom - INFO - ChatRoom initialized for peer QmPCAPFd... with nickname 'peer-253200'
2025-07-12 15:33:39,734 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:33:39,735 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:33:39,735 - headless - INFO - Chat room setup complete for 'peer-253200'
2025-07-12 15:33:39,735 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:33:39,735 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:33:39,735 - headless - INFO - Starting message processing...
2025-07-12 15:35:54,171 - main - DEBUG - Debug logging enabled
2025-07-12 15:35:54,171 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:35:54,171 - headless - INFO - HeadlessService initialized - nickname: sender-peer, port: 58821
2025-07-12 15:35:54,171 - main - INFO - Starting headless service in background...
2025-07-12 15:35:54,171 - headless - INFO - Starting headless service...
2025-07-12 15:35:54,458 - headless - INFO - Host created with PeerID: Qme3NNMAW4o7HEtMYr3AsFRo6DL1M2tzgo4BLroBGXngBA
2025-07-12 15:35:54,458 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/58821
2025-07-12 15:35:54,458 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/58821/p2p/Qme3NNMAW4o7HEtMYr3AsFRo6DL1M2tzgo4BLroBGXngBA
2025-07-12 15:35:54,460 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:35:54,460 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:35:54,460 - headless - INFO - Pubsub ready.
2025-07-12 15:35:54,460 - headless - INFO - Setting up chat room...
2025-07-12 15:35:54,460 - chatroom - INFO - ChatRoom initialized for peer Qme3NNMA... with nickname 'sender-peer'
2025-07-12 15:35:54,461 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:35:54,461 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:35:54,461 - headless - INFO - Chat room setup complete for 'sender-peer'
2025-07-12 15:35:54,461 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:35:54,461 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:35:54,461 - headless - INFO - Starting message processing...
2025-07-12 15:36:08,857 - main - DEBUG - Debug logging enabled
2025-07-12 15:36:08,858 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:36:08,858 - headless - INFO - HeadlessService initialized - nickname: receiver-peer, port: 33325
2025-07-12 15:36:08,858 - main - INFO - Starting headless service in background...
2025-07-12 15:36:08,858 - headless - INFO - Starting headless service...
2025-07-12 15:36:09,285 - headless - INFO - Host created with PeerID: QmehiycyPMrvkzmiZYSoDdPjAvariTLoKZRAPY8RTbK67Z
2025-07-12 15:36:09,285 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/33325
2025-07-12 15:36:09,285 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/33325/p2p/QmehiycyPMrvkzmiZYSoDdPjAvariTLoKZRAPY8RTbK67Z
2025-07-12 15:36:09,287 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:36:09,287 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:36:09,287 - headless - INFO - Pubsub ready.
2025-07-12 15:36:09,287 - headless - INFO - Attempting to connect to: /ip4/0.0.0.0/tcp/58821/p2p/Qme3NNMAW4o7HEtMYr3AsFRo6DL1M2tzgo4BLroBGXngBA
2025-07-12 15:36:09,288 - headless - INFO - Connecting to peer: Qme3NNMAW4o7HEtMYr3AsFRo6DL1M2tzgo4BLroBGXngBA
2025-07-12 15:36:09,342 - headless - INFO - ✅ Successfully connected to peer: Qme3NNMAW4o7HEtMYr3AsFRo6DL1M2tzgo4BLroBGXngBA
2025-07-12 15:36:11,344 - headless - INFO - PubSub peers after connection: ['Qme3NNMA']
2025-07-12 15:36:11,344 - headless - INFO - Setting up chat room...
2025-07-12 15:36:11,344 - chatroom - INFO - ChatRoom initialized for peer Qmehiycy... with nickname 'receiver-peer'
2025-07-12 15:36:11,345 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:36:11,346 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:36:11,346 - headless - INFO - Chat room setup complete for 'receiver-peer'
2025-07-12 15:36:11,346 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:36:11,346 - headless - INFO - Starting message processing...
2025-07-12 15:36:11,346 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:36:25,939 - headless - DEBUG - Message sent: hi
2025-07-12 15:36:48,699 - headless - DEBUG - Message sent: (.venv) sumanjeet@sumanjeet:/media/sumanjeet/Study/Code/PLDG/UCdApp/universal-connectivity$ python py-peer/main.py --connect /ip4/0.0.0.0/tcp/55725/p2p/QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:36:48,709 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,500 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:36:48,720 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,500 - headless - INFO - HeadlessService initialized - nickname: peer-253200, port: 39037
2025-07-12 15:36:48,731 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,500 - main - INFO - Starting headless service in background...
2025-07-12 15:36:48,741 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,501 - headless - INFO - Starting headless service...
2025-07-12 15:36:48,750 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,678 - headless - INFO - Host created with PeerID: QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:36:48,755 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,678 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/39037
2025-07-12 15:36:48,771 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,678 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/39037/p2p/QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:36:48,780 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,680 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:36:48,786 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,680 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:36:48,797 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,680 - headless - INFO - Pubsub ready.
2025-07-12 15:36:48,809 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,681 - headless - INFO - Attempting to connect to: /ip4/0.0.0.0/tcp/55725/p2p/QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:36:48,823 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,681 - headless - INFO - Connecting to peer: QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:36:48,833 - headless - DEBUG - Message sent: 2025-07-12 15:33:37,731 - headless - INFO - ✅ Successfully connected to peer: QmT8n8uA1fpeMwPRPau8HeCmLaooAmhaoq14YtXC8YWTEh
2025-07-12 15:36:48,843 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,733 - headless - INFO - PubSub peers after connection: ['QmT8n8uA']
2025-07-12 15:36:48,847 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,733 - headless - INFO - Setting up chat room...
2025-07-12 15:36:48,862 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,734 - chatroom - INFO - ChatRoom initialized for peer QmPCAPFd... with nickname 'peer-253200'
2025-07-12 15:36:48,867 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,734 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:36:48,883 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,735 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:36:48,893 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,735 - headless - INFO - Chat room setup complete for 'peer-253200'
2025-07-12 15:36:48,897 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,735 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:36:48,907 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,735 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:36:48,911 - headless - DEBUG - Message sent: === Universal Connectivity Chat ===
2025-07-12 15:36:48,913 - headless - DEBUG - Message sent: Nickname: peer-253200
2025-07-12 15:36:48,918 - headless - DEBUG - Message sent: Peer ID: QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:36:48,929 - headless - DEBUG - Message sent: Multiaddr: /ip4/0.0.0.0/tcp/39037/p2p/QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:36:48,933 - headless - DEBUG - Message sent: Type messages and press Enter to send. Type 'quit' to exit.
2025-07-12 15:36:48,939 - headless - DEBUG - Message sent: Commands: /peers, /status, /multiaddr
2025-07-12 15:36:48,945 - headless - DEBUG - Message sent: 2025-07-12 15:33:39,735 - headless - INFO - Starting message processing...
2025-07-12 15:36:48,948 - headless - DEBUG - Message sent: l
2025-07-12 15:36:48,950 - headless - DEBUG - Message sent: ✓ Message sent to 1 peer(s)
2025-07-12 15:36:48,953 - headless - DEBUG - Message sent: asd
2025-07-12 15:36:48,957 - headless - DEBUG - Message sent: ✓ Message sent to 1 peer(s)
2025-07-12 15:37:01,578 - root - INFO - Stream closed cleanly for peer QmRif1SuRfeTbnxtXcxcBtFuZZQTjRsiqHVruYYxYhtaZa (IncompleteReadError: {'requested_count': 2, 'received_count': 0})
2025-07-12 15:38:15,214 - root - INFO - Stream closed cleanly for peer QmQueRUwsbwvHCQ5DGyXNZ6J3ZWutBtuKQLtQf8m2fyvD1 (IncompleteReadError: {'requested_count': 2, 'received_count': 0})
2025-07-12 15:38:41,230 - root - INFO - Stream closed cleanly for peer QmUzoHxaKStJaM4jD3ZKxFWAezq6SZVQs5a3odQDBdagJa (IncompleteReadError: {'requested_count': 2, 'received_count': 0})
2025-07-12 15:43:31,431 - main - DEBUG - Debug logging enabled
2025-07-12 15:43:31,432 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:43:31,432 - headless - INFO - HeadlessService initialized - nickname: ui-test-peer, port: 55777
2025-07-12 15:43:31,432 - main - INFO - Starting headless service for UI mode...
2025-07-12 15:43:31,432 - headless - INFO - Starting headless service...
2025-07-12 15:43:31,786 - headless - INFO - Host created with PeerID: Qma33DHcNEKvXU6FxndA7ebHXgavNsCXEdbYCRyXThJ4uV
2025-07-12 15:43:31,786 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/55777
2025-07-12 15:43:31,786 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/55777/p2p/Qma33DHcNEKvXU6FxndA7ebHXgavNsCXEdbYCRyXThJ4uV
2025-07-12 15:43:31,788 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:43:31,788 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:43:31,788 - headless - INFO - Pubsub ready.
2025-07-12 15:43:31,788 - headless - INFO - Setting up chat room...
2025-07-12 15:43:31,788 - chatroom - INFO - ChatRoom initialized for peer Qma33DHc... with nickname 'ui-test-peer'
2025-07-12 15:43:31,789 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:43:31,789 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:43:31,789 - headless - INFO - Chat room setup complete for 'ui-test-peer'
2025-07-12 15:43:31,789 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:43:31,789 - headless - INFO - Starting message processing...
2025-07-12 15:43:31,789 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:43:31,789 - main - INFO - Starting Textual UI...
2025-07-12 15:43:31,799 - ui_modular - INFO - ModularChatUI initialized for peer Qma33DHc...
2025-07-12 15:43:32,091 - ui_modular - INFO - UI unmounted
2025-07-12 15:45:26,293 - main - DEBUG - Debug logging enabled
2025-07-12 15:45:26,293 - main - INFO - Starting in UI mode...
2025-07-12 15:45:26,293 - headless - INFO - HeadlessService initialized - nickname: ui-test-peer, port: 53353
2025-07-12 15:45:26,293 - main - INFO - Starting headless service in background thread...
2025-07-12 15:45:26,294 - headless - INFO - Starting headless service...
2025-07-12 15:45:26,554 - headless - INFO - Host created with PeerID: QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6
2025-07-12 15:45:26,555 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/53353
2025-07-12 15:45:26,555 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/53353/p2p/QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6
2025-07-12 15:45:26,557 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:45:26,558 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:45:26,558 - headless - INFO - Pubsub ready.
2025-07-12 15:45:26,558 - headless - INFO - Setting up chat room...
2025-07-12 15:45:26,558 - chatroom - INFO - ChatRoom initialized for peer QmWsV9SK... with nickname 'ui-test-peer'
2025-07-12 15:45:26,558 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:45:26,558 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:45:26,558 - headless - INFO - Chat room setup complete for 'ui-test-peer'
2025-07-12 15:45:26,558 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:45:26,558 - headless - INFO - Starting message processing...
2025-07-12 15:45:26,594 - main - INFO - ✅ Headless service is ready in background thread
2025-07-12 15:45:26,594 - main - INFO - Starting Textual UI in main thread...
2025-07-12 15:45:26,601 - ui_modular - INFO - ModularChatUI initialized for peer QmWsV9SK...
2025-07-12 15:45:26,625 - ui_modular - INFO - UI mounted and running
2025-07-12 15:45:49,104 - main - DEBUG - Debug logging enabled
2025-07-12 15:45:49,104 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:45:49,105 - headless - INFO - HeadlessService initialized - nickname: sender-peer, port: 53323
2025-07-12 15:45:49,105 - main - INFO - Starting headless service in background...
2025-07-12 15:45:49,105 - headless - INFO - Starting headless service...
2025-07-12 15:45:49,226 - headless - INFO - Host created with PeerID: QmdYT1ZkpvovRiSqhUbeiBmDzQ2aS6qBeqXrQ3ym6w5KVx
2025-07-12 15:45:49,226 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/53323
2025-07-12 15:45:49,226 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/53323/p2p/QmdYT1ZkpvovRiSqhUbeiBmDzQ2aS6qBeqXrQ3ym6w5KVx
2025-07-12 15:45:49,228 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:45:49,229 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:45:49,229 - headless - INFO - Pubsub ready.
2025-07-12 15:45:49,229 - headless - INFO - Attempting to connect to: /ip4/0.0.0.0/tcp/53353/p2p/QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6
2025-07-12 15:45:49,229 - headless - INFO - Connecting to peer: QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6
2025-07-12 15:45:49,284 - headless - INFO - ✅ Successfully connected to peer: QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6
2025-07-12 15:45:51,287 - headless - INFO - PubSub peers after connection: ['QmWsV9SK']
2025-07-12 15:45:51,287 - headless - INFO - Setting up chat room...
2025-07-12 15:45:51,287 - chatroom - INFO - ChatRoom initialized for peer QmdYT1Zk... with nickname 'sender-peer'
2025-07-12 15:45:51,288 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:45:51,288 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:45:51,289 - headless - INFO - Chat room setup complete for 'sender-peer'
2025-07-12 15:45:51,289 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:45:51,289 - headless - INFO - Starting message processing...
2025-07-12 15:45:51,289 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:45:51,289 - main - INFO - 📡 Starting message queue monitoring...
2025-07-12 15:45:51,289 - main - DEBUG - No message in queue: 
2025-07-12 15:45:51,289 - main - INFO - 📡 Got system message from queue: {'type': 'system_message', 'message': 'Connected to peer: QmWsV9SK', 'timestamp': 224053.90855761012}
2025-07-12 15:45:51,390 - main - DEBUG - No message in queue: 
2025-07-12 15:45:51,390 - main - INFO - 📡 Got system message from queue: {'type': 'system_message', 'message': "Joined chat room as 'sender-peer'", 'timestamp': 224053.91013503517}
2025-07-12 15:45:51,491 - main - DEBUG - No message in queue: 
2025-07-12 15:45:51,491 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:51,591 - main - DEBUG - No message in queue: 
2025-07-12 15:45:51,592 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:51,692 - main - DEBUG - No message in queue: 
2025-07-12 15:45:51,692 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:51,793 - main - DEBUG - No message in queue: 
2025-07-12 15:45:51,793 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:51,894 - main - DEBUG - No message in queue: 
2025-07-12 15:45:51,894 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:51,995 - main - DEBUG - No message in queue: 
2025-07-12 15:45:51,995 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,095 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,096 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,196 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,196 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,297 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,297 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,397 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,398 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,499 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,500 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,600 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,601 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,701 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,702 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,802 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,803 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:52,904 - main - DEBUG - No message in queue: 
2025-07-12 15:45:52,904 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,005 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,005 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,106 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,106 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,207 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,207 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,308 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,308 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,409 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,409 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,509 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,510 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,610 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,610 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,710 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,711 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,811 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,811 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:53,912 - main - DEBUG - No message in queue: 
2025-07-12 15:45:53,912 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,012 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,013 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,113 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,113 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,214 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,214 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,314 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,315 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,415 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,415 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,516 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,516 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,616 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,616 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,717 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,717 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,817 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,817 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:54,918 - main - DEBUG - No message in queue: 
2025-07-12 15:45:54,918 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,018 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,019 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,119 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,120 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,221 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,221 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,322 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,322 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,423 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,423 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,524 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,524 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,624 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,624 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,725 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,726 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,826 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,827 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:55,927 - main - DEBUG - No message in queue: 
2025-07-12 15:45:55,927 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,027 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,028 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,128 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,129 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,229 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,229 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,329 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,330 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,430 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,430 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,531 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,532 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,632 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,633 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,733 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,734 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,834 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,835 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:56,936 - main - DEBUG - No message in queue: 
2025-07-12 15:45:56,936 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:57,037 - main - DEBUG - No message in queue: 
2025-07-12 15:45:57,037 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:57,138 - main - DEBUG - No message in queue: 
2025-07-12 15:45:57,138 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:57,238 - main - DEBUG - No message in queue: 
2025-07-12 15:45:57,239 - main - DEBUG - No system message in queue: 
2025-07-12 15:45:58,442 - root - INFO - Stream closed cleanly for peer QmdYT1ZkpvovRiSqhUbeiBmDzQ2aS6qBeqXrQ3ym6w5KVx (IncompleteReadError: {'requested_count': 2, 'received_count': 0})
2025-07-12 15:49:04,365 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:49:04,365 - headless - INFO - HeadlessService initialized - nickname: connector-peer, port: 45955
2025-07-12 15:49:04,365 - main - INFO - Starting headless service in background...
2025-07-12 15:49:04,365 - headless - INFO - Starting headless service...
2025-07-12 15:49:04,558 - headless - INFO - Host created with PeerID: QmQCRiChhmbkRoQ6JXWD1EcKzX2nRog7E36xHThqcfHsvy
2025-07-12 15:49:04,558 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/45955
2025-07-12 15:49:04,558 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/45955/p2p/QmQCRiChhmbkRoQ6JXWD1EcKzX2nRog7E36xHThqcfHsvy
2025-07-12 15:49:04,560 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:49:04,560 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:49:04,560 - headless - INFO - Pubsub ready.
2025-07-12 15:49:04,560 - headless - INFO - Attempting to connect to: /ip4/127.0.0.1/tcp/53353/p2p/QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6
2025-07-12 15:49:04,561 - headless - INFO - Connecting to peer: QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6
2025-07-12 15:49:04,594 - headless - INFO - ✅ Successfully connected to peer: QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6
2025-07-12 15:49:06,596 - headless - INFO - PubSub peers after connection: ['QmWsV9SK']
2025-07-12 15:49:06,596 - headless - INFO - Setting up chat room...
2025-07-12 15:49:06,596 - chatroom - INFO - ChatRoom initialized for peer QmQCRiCh... with nickname 'connector-peer'
2025-07-12 15:49:06,597 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:49:06,598 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:49:06,598 - headless - INFO - Chat room setup complete for 'connector-peer'
2025-07-12 15:49:06,598 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:49:06,598 - headless - INFO - Starting message processing...
2025-07-12 15:49:06,598 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:49:06,598 - main - INFO - 📡 Starting message queue monitoring...
2025-07-12 15:49:06,598 - main - INFO - 📡 Got system message from queue: {'type': 'system_message', 'message': 'Connected to peer: QmWsV9SK', 'timestamp': 199154.20456107068}
2025-07-12 15:49:06,699 - main - INFO - 📡 Got system message from queue: {'type': 'system_message', 'message': "Joined chat room as 'connector-peer'", 'timestamp': 199154.20614383768}
2025-07-12 15:49:51,358 - root - INFO - Stream closed cleanly for peer Qme3NNMAW4o7HEtMYr3AsFRo6DL1M2tzgo4BLroBGXngBA (IncompleteReadError: {'requested_count': 2, 'received_count': 0})
2025-07-12 15:50:08,117 - ui_modular - INFO - UI unmounted
2025-07-12 15:50:08,218 - root - INFO - Stream closed cleanly for peer QmWsV9SKG5zNjk1qv4MRZhefwnJB4Y4m68eHkVw589swx6 (IncompleteReadError: {'requested_count': 2, 'received_count': 0})
2025-07-12 15:50:12,333 - main - DEBUG - Debug logging enabled
2025-07-12 15:50:12,333 - main - INFO - Starting in UI mode...
2025-07-12 15:50:12,333 - headless - INFO - HeadlessService initialized - nickname: ui-test-peer, port: 42587
2025-07-12 15:50:12,333 - main - INFO - Starting headless service in background thread...
2025-07-12 15:50:12,334 - headless - INFO - Starting headless service...
2025-07-12 15:50:12,640 - headless - INFO - Host created with PeerID: QmXdAaw4Z15DQUhiD8ipHReE7URzeoMNMzCwVi9ja94wCa
2025-07-12 15:50:12,641 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/42587
2025-07-12 15:50:12,641 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/42587/p2p/QmXdAaw4Z15DQUhiD8ipHReE7URzeoMNMzCwVi9ja94wCa
2025-07-12 15:50:12,642 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:50:12,643 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:50:12,643 - headless - INFO - Pubsub ready.
2025-07-12 15:50:12,643 - headless - INFO - Setting up chat room...
2025-07-12 15:50:12,643 - chatroom - INFO - ChatRoom initialized for peer QmXdAaw4... with nickname 'ui-test-peer'
2025-07-12 15:50:12,643 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:50:12,643 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:50:12,643 - headless - INFO - Chat room setup complete for 'ui-test-peer'
2025-07-12 15:50:12,643 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:50:12,643 - headless - INFO - Starting message processing...
2025-07-12 15:50:12,734 - main - INFO - ✅ Headless service is ready in background thread
2025-07-12 15:50:12,734 - main - INFO - Starting Textual UI in main thread...
2025-07-12 15:50:12,744 - ui_modular - INFO - ModularChatUI initialized for peer QmXdAaw4...
2025-07-12 15:50:12,766 - ui_modular - INFO - UI mounted and running
2025-07-12 15:50:28,190 - main - DEBUG - Debug logging enabled
2025-07-12 15:50:28,190 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:50:28,190 - headless - INFO - HeadlessService initialized - nickname: sender-peer, port: 54361
2025-07-12 15:50:28,190 - main - INFO - Starting headless service in background...
2025-07-12 15:50:28,191 - headless - INFO - Starting headless service...
2025-07-12 15:50:28,432 - headless - INFO - Host created with PeerID: QmSyrC6CMzgJLfZXvyBX5ZXSriaFDWuUmTcXpgntkooRJr
2025-07-12 15:50:28,432 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/54361
2025-07-12 15:50:28,432 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/54361/p2p/QmSyrC6CMzgJLfZXvyBX5ZXSriaFDWuUmTcXpgntkooRJr
2025-07-12 15:50:28,434 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:50:28,434 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:50:28,434 - headless - INFO - Pubsub ready.
2025-07-12 15:50:28,434 - headless - INFO - Setting up chat room...
2025-07-12 15:50:28,435 - chatroom - INFO - ChatRoom initialized for peer QmSyrC6C... with nickname 'sender-peer'
2025-07-12 15:50:28,435 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:50:28,435 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:50:28,435 - headless - INFO - Chat room setup complete for 'sender-peer'
2025-07-12 15:50:28,435 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:50:28,435 - headless - INFO - Starting message processing...
2025-07-12 15:50:28,435 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:50:28,435 - main - INFO - 📡 Starting message queue monitoring...
2025-07-12 15:50:28,435 - main - DEBUG - No message in queue: 
2025-07-12 15:50:28,435 - main - INFO - 📡 Got system message from queue: {'type': 'system_message', 'message': "Joined chat room as 'sender-peer'", 'timestamp': 196856.61387864454}
2025-07-12 15:50:28,536 - main - DEBUG - No message in queue: 
2025-07-12 15:50:28,537 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:28,638 - main - DEBUG - No message in queue: 
2025-07-12 15:50:28,639 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:28,740 - main - DEBUG - No message in queue: 
2025-07-12 15:50:28,740 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:28,841 - main - DEBUG - No message in queue: 
2025-07-12 15:50:28,841 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:28,942 - main - DEBUG - No message in queue: 
2025-07-12 15:50:28,943 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,044 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,044 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,144 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,145 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,246 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,247 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,348 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,348 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,449 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,449 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,550 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,551 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,651 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,652 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,753 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,754 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,855 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,855 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:29,956 - main - DEBUG - No message in queue: 
2025-07-12 15:50:29,957 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:30,057 - main - DEBUG - No message in queue: 
2025-07-12 15:50:30,058 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:50,276 - main - DEBUG - Debug logging enabled
2025-07-12 15:50:50,277 - main - INFO - Starting Universal Connectivity Python Peer...
2025-07-12 15:50:50,277 - headless - INFO - HeadlessService initialized - nickname: sender-peer, port: 56139
2025-07-12 15:50:50,277 - main - INFO - Starting headless service in background...
2025-07-12 15:50:50,277 - headless - INFO - Starting headless service...
2025-07-12 15:50:50,523 - headless - INFO - Host created with PeerID: Qmbd8y6zuPKphcjES4u3Da7LXwVabqsTWasw3f82jFPd3X
2025-07-12 15:50:50,523 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/56139
2025-07-12 15:50:50,523 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/56139/p2p/Qmbd8y6zuPKphcjES4u3Da7LXwVabqsTWasw3f82jFPd3X
2025-07-12 15:50:50,525 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:50:50,526 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:50:50,526 - headless - INFO - Pubsub ready.
2025-07-12 15:50:50,526 - headless - INFO - Setting up chat room...
2025-07-12 15:50:50,526 - chatroom - INFO - ChatRoom initialized for peer Qmbd8y6z... with nickname 'sender-peer'
2025-07-12 15:50:50,526 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:50:50,526 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:50:50,526 - headless - INFO - Chat room setup complete for 'sender-peer'
2025-07-12 15:50:50,526 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:50:50,526 - main - INFO - ✅ Headless service is ready, starting UI...
2025-07-12 15:50:50,527 - headless - INFO - Starting message processing...
2025-07-12 15:50:50,527 - main - INFO - 📡 Starting message queue monitoring...
2025-07-12 15:50:50,527 - main - DEBUG - No message in queue: 
2025-07-12 15:50:50,527 - main - INFO - 📡 Got system message from queue: {'type': 'system_message', 'message': "Joined chat room as 'sender-peer'", 'timestamp': 323864.98124117113}
2025-07-12 15:50:50,628 - main - DEBUG - No message in queue: 
2025-07-12 15:50:50,628 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:50,729 - main - DEBUG - No message in queue: 
2025-07-12 15:50:50,729 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:50,829 - main - DEBUG - No message in queue: 
2025-07-12 15:50:50,830 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:50,931 - main - DEBUG - No message in queue: 
2025-07-12 15:50:50,931 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,032 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,032 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,132 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,133 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,233 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,233 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,334 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,334 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,435 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,435 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,535 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,536 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,638 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,638 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,738 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,739 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,839 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,839 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:51,939 - main - DEBUG - No message in queue: 
2025-07-12 15:50:51,940 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:52,041 - main - DEBUG - No message in queue: 
2025-07-12 15:50:52,041 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:52,142 - main - DEBUG - No message in queue: 
2025-07-12 15:50:52,142 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:52,243 - main - DEBUG - No message in queue: 
2025-07-12 15:50:52,243 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:52,344 - main - DEBUG - No message in queue: 
2025-07-12 15:50:52,345 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:52,445 - main - DEBUG - No message in queue: 
2025-07-12 15:50:52,446 - main - DEBUG - No system message in queue: 
2025-07-12 15:50:52,547 - main - DEBUG - No message in queue: 
2025-07-12 15:50:52,547 - main - DEBUG - No system message in queue: 
2025-07-12 15:51:46,424 - ui_modular - INFO - UI unmounted
2025-07-12 15:51:53,468 - main - DEBUG - Debug logging enabled
2025-07-12 15:51:53,468 - main - INFO - Starting in UI mode...
2025-07-12 15:51:53,468 - headless - INFO - HeadlessService initialized - nickname: ui-test-peer, port: 45745
2025-07-12 15:51:53,468 - main - INFO - Starting headless service in background thread...
2025-07-12 15:51:53,469 - headless - INFO - Starting headless service...
2025-07-12 15:51:53,832 - headless - INFO - Host created with PeerID: QmWghfLRhqPWMVVtnVg75LJ9ByPPjmkZGgbutZv7Pn5re9
2025-07-12 15:51:53,833 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/45745
2025-07-12 15:51:53,833 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/45745/p2p/QmWghfLRhqPWMVVtnVg75LJ9ByPPjmkZGgbutZv7Pn5re9
2025-07-12 15:51:53,834 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:51:53,835 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:51:53,835 - headless - INFO - Pubsub ready.
2025-07-12 15:51:53,835 - headless - INFO - Attempting to connect to: /ip4/0.0.0.0/tcp/39037/p2p/QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:51:53,836 - headless - INFO - Connecting to peer: QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:51:53,868 - headless - INFO - ✅ Successfully connected to peer: QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:51:55,871 - headless - INFO - PubSub peers after connection: ['QmPCAPFd']
2025-07-12 15:51:55,872 - headless - INFO - Setting up chat room...
2025-07-12 15:51:55,872 - chatroom - INFO - ChatRoom initialized for peer QmWghfLR... with nickname 'ui-test-peer'
2025-07-12 15:51:55,873 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:51:55,874 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:51:55,874 - headless - INFO - Chat room setup complete for 'ui-test-peer'
2025-07-12 15:51:55,874 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:51:55,874 - headless - INFO - Starting message processing...
2025-07-12 15:51:55,972 - main - INFO - ✅ Headless service is ready in background thread
2025-07-12 15:51:55,973 - main - INFO - Starting Textual UI in main thread...
2025-07-12 15:51:55,981 - ui_modular - INFO - ModularChatUI initialized for peer QmWghfLR...
2025-07-12 15:51:55,999 - ui_modular - INFO - UI mounted and running
2025-07-12 15:52:02,512 - headless - INFO - 📨 Received chat message: hi from peer-253200
2025-07-12 15:52:02,512 - headless - DEBUG - 📤 Message forwarded to UI queue
2025-07-12 15:52:09,744 - chatroom - ERROR - Failed to publish message: 
2025-07-12 15:52:09,745 - headless - DEBUG - Message sent: hlo
2025-07-12 15:52:26,636 - chatroom - ERROR - Failed to publish message: Task got bad yield: <class 'trio._core._traps.CancelShieldedCheckpoint'>
2025-07-12 15:52:26,636 - headless - DEBUG - Message sent: kkkkkkkkkkkkkkkk
2025-07-12 15:52:55,613 - ui_modular - INFO - UI unmounted
2025-07-12 15:52:55,721 - root - INFO - Stream closed cleanly for peer QmWghfLRhqPWMVVtnVg75LJ9ByPPjmkZGgbutZv7Pn5re9 (IncompleteReadError: {'requested_count': 2, 'received_count': 0})
2025-07-12 15:53:17,873 - main - DEBUG - Debug logging enabled
2025-07-12 15:53:17,873 - main - INFO - Starting in UI mode...
2025-07-12 15:53:17,873 - headless - INFO - HeadlessService initialized - nickname: ui-test-peer, port: 53471
2025-07-12 15:53:17,873 - main - INFO - Starting headless service in background thread...
2025-07-12 15:53:17,874 - headless - INFO - Starting headless service...
2025-07-12 15:53:18,394 - headless - INFO - Host created with PeerID: Qmb5phkxzvinBDLX2hWYhaVFMTtZEZmwvs62AYvwxMzEV6
2025-07-12 15:53:18,395 - headless - INFO - Listening on: /ip4/0.0.0.0/tcp/53471
2025-07-12 15:53:18,395 - headless - INFO - Full multiaddr: /ip4/0.0.0.0/tcp/53471/p2p/Qmb5phkxzvinBDLX2hWYhaVFMTtZEZmwvs62AYvwxMzEV6
2025-07-12 15:53:18,396 - headless - INFO - Initializing PubSub and GossipSub...
2025-07-12 15:53:18,397 - headless - INFO - Pubsub and GossipSub services started.
2025-07-12 15:53:18,397 - headless - INFO - Pubsub ready.
2025-07-12 15:53:18,397 - headless - INFO - Attempting to connect to: /ip4/0.0.0.0/tcp/39037/p2p/QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:53:18,398 - headless - INFO - Connecting to peer: QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:53:18,429 - headless - INFO - ✅ Successfully connected to peer: QmPCAPFdEunS2Zz37o9XkdGqWLtq3RdbJQVirMb95g474Z
2025-07-12 15:53:20,432 - headless - INFO - PubSub peers after connection: ['QmPCAPFd']
2025-07-12 15:53:20,432 - headless - INFO - Setting up chat room...
2025-07-12 15:53:20,432 - chatroom - INFO - ChatRoom initialized for peer Qmb5phkx... with nickname 'ui-test-peer'
2025-07-12 15:53:20,434 - chatroom - INFO - Subscribed to chat topic: universal-connectivity
2025-07-12 15:53:20,435 - chatroom - INFO - Subscribed to discovery topic: universal-connectivity-browser-peer-discovery
2025-07-12 15:53:20,435 - headless - INFO - Chat room setup complete for 'ui-test-peer'
2025-07-12 15:53:20,435 - headless - INFO - ✅ Headless service is ready
2025-07-12 15:53:20,435 - headless - INFO - Starting message processing...
2025-07-12 15:53:20,477 - main - INFO - ✅ Headless service is ready in background thread
2025-07-12 15:53:20,477 - main - INFO - Starting Textual UI in main thread...
2025-07-12 15:53:20,482 - ui_modular - INFO - ModularChatUI initialized for peer Qmb5phkx...
2025-07-12 15:53:20,501 - ui_modular - INFO - UI mounted and running
2025-07-12 15:53:25,486 - chatroom - ERROR - Failed to publish message: 
2025-07-12 15:53:25,487 - headless - DEBUG - Message sent: asd
2025-07-12 15:54:53,292 - ui_modular - INFO - UI unmounted
2025-07-12 15:54:53,400 - root - INFO - Stream closed cleanly for peer Qmb5phkxzvinBDLX2hWYhaVFMTtZEZmwvs62AYvwxMzEV6 (IncompleteReadError: {'requested_count': 2, 'received_count': 0})
